[TOC]

# 进程管理

> 在 Linux 中，每个执行的程序都成为一个进程。每一个进程都分配一个ID号(pid，进程号)。
> 
> 每个进程都可能以两种方式存在(前台和后台)。
> 前台进程：即用户目前屏幕上可以操作的。
> 后台进程：是实际上在操作，而屏幕上无法看到的进程，通常使用后台方式执行。
> 
> 一般系统服务都是以后台的方式存在，且常驻于系统中，直到关机才结束。

## 显示系统执行的进程

### 基本介绍

| 命令     | 说明             |
| ------ | -------------- |
| ps     | 查看当前系统中正在执行的进程 |
| ps -a  | 查看当前所有进程       |
| ps  -u | 以用户的格式显示进程信息   |
| ps -x  | 显示后台进程运行的参数    |

### ps 详解

#### 指令

```
ps -aux | grep sshd    // 查看是否有 sshd 服务
```

| 参数                                   | 说明                                                                                                                       |
| ------------------------------------ | ------------------------------------------------------------------------------------------------------------------------ |
| USER                                 | 用户名称                                                                                                                     |
| PID                                  | 进程号                                                                                                                      |
| <span style="color: red">%CPU</span> | 进程占用CPU的百分比                                                                                                              |
| <span style="color: red">%MEN</span> | 进程占用物理内存的百分比                                                                                                             |
| <span style="color: red">VSZ</span>  | 进程占用的虚拟内存的大小(KB)                                                                                                         |
| <span style="color: red">RSS</span>  | 进程占用的物理内存的大小(KB)</span>                                                                                                  |
| TT                                   | 终端名(缩写)                                                                                                                  |
| STAT                                 | 进程状态。<br/>S-：睡眠。<br/>s-：该进程是会话的先导进程。<br/>N-：表示进程拥有比普通优先级更低的优先级。<br/>R-：正在运行。<br/>D-：短期等待。<br/>Z-：僵尸进程。<br/>T-：被跟踪或者被停止等。 |
| STARTED                              | 进程的启动时间                                                                                                                  |
| TIME                                 | CPU时间。即进程使用CPU的总时间                                                                                                       |
| COMMAND                              | 启动进程所用的命令和参数。                                                                                                            |

### 父子进程

> 要以全格式显示当前所有进程，查看进程的父进程。

#### 基本语法

```
ps -ef | grep xx
-e：显示所有进程。
-f：全格式。
```

#### 参数详解

## 终止进程：kill / killall

> 若某个进程执行时需要停止，或已经消耗了系统大量资源时。此时可以考虑停止该进程。

### 基本语法

```
kill [选项] 进程号
    通过进程号，杀死对应进程。
killall 进程名
    通过进程名，杀死对于进程。也支持通配符。
```

#### 选项：

- -9：强制进程立即停止。

## pstree：查看进程树

### 基本语法

```
pstree [选项]
    可以直观地查看进程信息。
-p：显示进程的pid。
-u：显示进程的所属用户。
```
